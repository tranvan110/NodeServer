var modal;function ModalInit(){modal=document.querySelector(".modal");window.onclick=function(event){if(event.target==modal){modal.style.display="none";}}}
function ModalShow(){modal.style.display="block";}
var intervals=[];window.addEventListener('DOMContentLoaded',function(){for(var i=0;i<intervals.length;++i)
clearInterval(intervals[i]);if(document.querySelector(".modal"))
ModalInit();if(document.querySelector(".slides"))
SlidesInit();if(document.querySelector(".select"))
SelectsInit();});function toggle(elem){var element=document.querySelector(elem);if(element.className.indexOf("show")>=0)
element.className=element.className.replace("show","hide");else if(element.className.indexOf("hide")>=0)
element.className=element.className.replace("hide","show");else if(elm.style.display!="none")
element.style.display="none";else
element.style.display="block";}
var selects=[],options=[];function SelectsInit(){selects=document.querySelectorAll(".select");for(var i=0;i<selects.length;i++){selects[i].addEventListener("click",function(){options=this.querySelectorAll(".options span");OptionsInit(options);this.classList.toggle("open");})}
window.addEventListener("click",function(event){for(var i=0;i<selects.length;i++){var select=selects[i];if(!select.contains(event.target)){select.classList.remove("open");}}});}
function OptionsInit(options){for(var i=0;i<options.length;i++){options[i].addEventListener("click",function(){var label=this.parentNode.previousElementSibling;var selected=this.parentNode.querySelector(".selected");if(!this.classList.contains("selected")){if(selected)
selected.classList.remove("selected");this.classList.add("selected");label.textContent=this.textContent;label.style.opacity=1.0;}})}}
var slideIndex,dots=[],slides=[],thumbs=[];function ZoomInit(){var zoom=document.querySelector(".zoom");var lens=document.querySelector(".zoom-lens");var result=document.querySelector(".zoom-res");var cx=result.offsetWidth/lens.offsetWidth;var cy=result.offsetHeight/lens.offsetHeight;lens.addEventListener("mousemove",moveLens);zoom.addEventListener("mousemove",moveLens);lens.addEventListener("touchmove",moveLens);zoom.addEventListener("touchmove",moveLens);function moveLens(event){var img=document.querySelector(".zoom .active");var offset=getOffset(img,img.parentElement);var pos=getCursorPos(event,img);var x=pos.x-(lens.offsetWidth/2);var y=pos.y-(lens.offsetHeight/2);if(x<0)
x=0;if(y<0)
y=0;if(x>img.width-lens.offsetWidth)
x=img.width-lens.offsetWidth;if(y>img.height-lens.offsetHeight)
y=img.height-lens.offsetHeight;lens.style.left=offset.x+x+"px";lens.style.top=offset.y+y+"px";result.style.backgroundImage="url('"+img.src+"')";result.style.backgroundSize=(img.width*cx)+"px "+(img.height*cy)+"px";result.style.backgroundPosition="-"+(x*cx)+"px -"+(y*cy)+"px";}
function getCursorPos(event,offset){event=event||window.event;var offsetPos=offset.getBoundingClientRect();var x=event.pageX-offsetPos.left;var y=event.pageY-offsetPos.top;x=x-window.pageXOffset;y=y-window.pageYOffset;return{x:x,y:y};}
function getOffset(element,offset){var elementPos=element.getBoundingClientRect();var offsetPos=offset.getBoundingClientRect();var x=elementPos.left-offsetPos.left;var y=elementPos.top-offsetPos.top;return{x:x,y:y};}}
function SlidesInit(){var next=document.querySelector(".slides .next");var prev=document.querySelector(".slides .prev");slides=document.querySelectorAll(".slides img");thumbs=document.querySelectorAll(".thumbs img");slideIndex=0;next.addEventListener("click",function(event){event.stopPropagation();slideIndex++;if(slideIndex>=slides.length)
slideIndex=0;SlideShow(slideIndex);if(thumbs.length>0)
ThumbShow(slideIndex);});prev.addEventListener("click",function(event){event.stopPropagation();slideIndex--;if(slideIndex<0)
slideIndex=slides.length-1;SlideShow(slideIndex);if(thumbs.length>0)
ThumbShow(slideIndex);});if(document.querySelector(".thumbs"))
ThumbsInit();if(document.querySelector(".zoom"))
ZoomInit();if(document.querySelector(".slides .auto"))
intervals.push(setInterval(SlideAuto,2000));function SlideAuto(){SlideShow(slideIndex);slideIndex++;if(slideIndex>=slides.length)
slideIndex=0;}}
function SlideShow(index){for(var i=0;i<slides.length;i++){slides[i].classList.remove("active");};if(slides[index])
slides[index].classList.add("active");}
function ThumbsInit(){var next=document.querySelector(".thumbs .next");var prev=document.querySelector(".thumbs .prev");next.addEventListener("click",function(event){event.stopPropagation();});prev.addEventListener("click",function(event){event.stopPropagation();});for(var index=0;index<thumbs.length;index++){thumbs[index].addEventListener("click",function(event){for(var i=0;i<thumbs.length;i++){if(thumbs[i]==event.target){slideIndex=i;SlideShow(slideIndex);ThumbShow(slideIndex);break;}}});};}
function ThumbShow(index){for(var i=0;i<thumbs.length;i++){thumbs[i].parentElement.classList.remove("active");};if(thumbs[index].parentElement)
thumbs[index].parentElement.classList.add("active");}
